{% extends 'base.html.twig' %}

{% block title %}All posts
{% endblock %}

{% block body %}
	{% if posts %}
{% for post in posts %}
  	<div id="post">
			{% if app.user == post.author  %}
			<a href="{{path('app_post_delete',{post:post.id})}}">delete</a>
				
			{% endif %}
				<div>{{ post.text }}</div>
				<div style="color:gray">{{ post.created | date("M j,Y") }}</div>
				<div><a href="{{path('app_profile',{user:post.author.id})}}">{{ post.author.firstname }}</a></div><br>
				<div>
					{% if post.likedBy.contains(app.user) %}
						<a href="{{path('app_unlike',{id:post.id})}}">
							<i class="fa-solid fa-thumbs-up" style="color: #7e838b;"></i>
						</a>

					{% else %}
						<a href="{{path('app_like',{id:post.id})}}">
							<i class="fa-regular fa-thumbs-up" style="color: #606976;"></i>
						</a>
					{% endif %}

					<span>{{post.likedBy.count}}</span>
				</a>
				<div class="flex">
					<a href="{{path('app_post_comment',{post:post.id})}}">comment<span>{{post.comments.count()}}</span>
					</a>

				</div>
				<a href="{{path('app_post_show',{post:post.id})}}">show more</a>
			</div>
		{% endfor %}  

	{% endif %}

{% endblock %}
